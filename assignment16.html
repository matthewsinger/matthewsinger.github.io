<!doctype HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="codemirror.js"></script>
<script src="python.js"></script>
<script src="runmode.js"></script>
<script src="setup-page.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Assignment 16: Bloom Filters</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Commonwealth School CS2
<br/>
Introduction to Class-<wbr></wbr>based Program Design</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="General_Course_Information.html" class="tocviewlink" data-pltdoc="x">General Course Information</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a></td></tr><tr><td align="right"></td><td><a href="Installation___New_Project_Instructions.html" class="tocviewlink" data-pltdoc="x">Installation &amp; New Project Instructions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="assignment1.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 1:</span> Designing complex data</a></td></tr><tr><td align="right"></td><td><a href="assignment2.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 2:</span> Delegation</a></td></tr><tr><td align="right"></td><td><a href="assignment3.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 3:</span> Tree-<wbr></wbr>Shaped Data</a></td></tr><tr><td align="right"></td><td><a href="assignment4.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 4:</span> Accumulators</a></td></tr><tr><td align="right"></td><td><a href="assignment5.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 5:</span> Road Trip!</a></td></tr><tr><td align="right"></td><td><a href="assignment6.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 6:</span> Abstracting over Data Definitions</a></td></tr><tr><td align="right"></td><td><a href="assignment7.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 7:</span> Customizing Constructors</a></td></tr><tr><td align="right"></td><td><a href="assignment8.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 8:</span> Mastermind</a></td></tr><tr><td align="right"></td><td><a href="assignment9.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 9:</span> Abstraction</a></td></tr><tr><td align="right"></td><td><a href="assignment10.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 10:</span> Generics</a></td></tr><tr><td align="right"></td><td><a href="assignment11.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 11:</span> Course Registration</a></td></tr><tr><td align="right"></td><td><a href="assignment12.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 12:</span> Who&rsquo;s On Deque?</a></td></tr><tr><td align="right"></td><td><a href="assignment13.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 13:</span> Huffman Coding</a></td></tr><tr><td align="right"></td><td><a href="assignment14.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 14:</span> Traversal</a></td></tr><tr><td align="right"></td><td><a href="assignment15.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 15:</span> Arrays</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 16:</span> Bloom Filters</a></td></tr><tr><td align="right"></td><td><a href="assignment17.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 17:</span> Optionals</a></td></tr><tr><td align="right"></td><td><a href="assignment18.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 18:</span> Streams</a></td></tr><tr><td align="right"></td><td><a href="assignment19.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 19:</span> Nonogram</a></td></tr><tr><td align="right"></td><td><a href="assignment20.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 20:</span> Chess</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 16:</span> Bloom Filters</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._.Sets%29" class="tocviewlink" data-pltdoc="x">Sets</a></td></tr><tr><td align="right"></td><td><a href="#%28part._.Structure%29" class="tocviewlink" data-pltdoc="x">Structure</a></td></tr><tr><td align="right">16.1&nbsp;</td><td><a href="#%28part._.Bit_vector%29" class="tocviewlink" data-pltdoc="x">Bit vector</a></td></tr><tr><td align="right">16.2&nbsp;</td><td><a href="#%28part._k_hash_functions%29" class="tocviewlink" data-pltdoc="x"><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> hash functions</a></td></tr><tr><td align="right">16.3&nbsp;</td><td><a href="#%28part._.Bloom_filter%29" class="tocviewlink" data-pltdoc="x">Bloom filter</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Sets%29" class="tocsubseclink" data-pltdoc="x">Sets</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Structure%29" class="tocsubseclink" data-pltdoc="x">Structure</a></td></tr><tr><td><span class="tocsublinknumber">16.1<tt>&nbsp;</tt></span><a href="#%28part._.Bit_vector%29" class="tocsubseclink" data-pltdoc="x">Bit vector</a></td></tr><tr><td><span class="tocsublinknumber">16.2<tt>&nbsp;</tt></span><a href="#%28part._k_hash_functions%29" class="tocsubseclink" data-pltdoc="x"><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> hash functions</a></td></tr><tr><td><span class="tocsublinknumber">16.3<tt>&nbsp;</tt></span><a href="#%28part._.Bloom_filter%29" class="tocsubseclink" data-pltdoc="x">Bloom filter</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="assignment15.html" title="backward to &quot;Assignment 15: Arrays&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="assignment17.html" title="forward to &quot;Assignment 17: Optionals&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._)"></a><span class="AssignmentNum">Assignment 16:</span> Bloom Filters</h4><p><span style="font-weight: bold">Goals:</span> Practice working with arrays and hashes.</p><p>You should submit one <span class="stt">.java</span> file containing the solution to this problem.</p><p><span style="font-weight: bold"><span style="color: red">Be sure to properly test your code and write purpose statements for your methods.</span></span>
A lack of tests and documentation will result in a lower grade! Remember that testing requires
you to make some examples of data in an examples class.</p><h5><a name="(part._.Sets)"></a>Sets</h5><p>While we haven&rsquo;t discussed them much, sets are pervasive in computer science, and are primarily used to ask a perrenial question:
is some thing in some collection of things?</p><p>Implementing a data stucture that performs this operation is incredibly simple (an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IList</span><span class="RktMeta"></span></span></span> can do it), but doing it smartly is not as easy.
Smartly can mean a whole bunch of things, but largely has to do with efficiency. Namely, can the answer be found quickly, and can it be done without
taking up too much memory?</p><p>The solution to the first problem is often solved with a hash of some sort, but the second question is not as simple. If your set contains a billion
objects, how do you store all that information without running out of memory?</p><p>Enter Bloom filters!</p><h5><a name="(part._.Structure)"></a>Structure</h5><p>A Bloom filter is a data structure that uses very little memory and can definitively tell you if an element is <span style="font-weight: bold">not</span> part of a set, but can
potentially return false positives. Elements can also be added to a Bloom filter.</p><p>A Bloom filter is stored as a bit vector (array of booleans) of some size \(m\) which are all initalized to 0 (<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">false</span><span class="RktMeta"></span></span></span>). When an element is added,
\(k\) hash functions are applied to it, resulting in numbers \(k_1, k_2, .... k_k\), and all those bits modulo \(m\) are set to 1 (<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">true</span><span class="RktMeta"></span></span></span>) in
the bit vector.</p><p>When one wants to know if an object is in the collection of data, one applies the aformentioned \(k\) hash functions to
that object and sees if all of those bits modulo \(m\) are set to 1 in the bit vector.</p><h5>16.1<tt>&nbsp;</tt><a name="(part._.Bit_vector)"></a>Bit vector</h5><p>For your first task, implement a bit vector class. It should take in a non-negative integer (enforce this) in its constructor, which
determines the size of the bit vector. It should support the operations
of getting the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">i</span><span class="RktMeta"></span></span></span>th bit, setting the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">i</span><span class="RktMeta"></span></span></span>th bit, and flipping the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">i</span><span class="RktMeta"></span></span></span>th bit. All bits should
have the default value of 0. Use a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="ProfjKeyword">[</span><span class="ProfjKeyword">]</span><span class="RktMeta"></span></span></span> to implement this, and note that the latter two of these operations are mutative;
they should not return a new bit vector, but modify the existing one.</p><h5>16.2<tt>&nbsp;</tt><a name="(part._k_hash_functions)"></a><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> hash functions</h5><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This strategy for hashing is non-ideal because it isn&rsquo;t guaranteed to produce well distributed hash codes.</p></blockquote></blockquote></blockquote><p>Being able to create an arbitrary number of hash functions is difficult (<a href="https://en.wikipedia.org/wiki/MurmurHash">but doable</a>),
so you&rsquo;re going to use <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> numbers to simulate this behavior. Write a static method that given an object <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">o</span><span class="RktMeta"></span></span></span>, a non-negative integer <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span>, and
a positive integer <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">m</span><span class="RktMeta"></span></span></span>, produces <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> integers between and including <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">0</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">m</span><span class="ProfjKeyword">-</span><span class="ProfjLiteral">1</span><span class="RktMeta"></span></span></span>, using <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">o</span><span class="RktMeta"></span></span></span>&rsquo;s hashcode as the
random number seed (the number passed to <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span>&rsquo;s constructor).</p><p>Use the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">nextInt</span><span class="RktMeta"></span></span></span> method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> times on the same <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> object, and be sure to give
the method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">m</span><span class="RktMeta"></span></span></span> as a bound. Accumulate these results in an array list (or array) and return it.</p><h5>16.3<tt>&nbsp;</tt><a name="(part._.Bloom_filter)"></a>Bloom filter</h5><p>Finally, implement the Bloom filter class itself. It should be constructed with a non-negative integer <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">k</span><span class="RktMeta"></span></span></span> and
a positive integer <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">m</span><span class="RktMeta"></span></span></span>, representing the number of "hash functions" and size of the bit vector, respectively.</p><p>The class should support the aforementioned behavior, including returning a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="RktMeta"></span></span></span> to indicate whether or not an element is definitely not in
or probably in the collection, and also being able to add an element to the collection. Also include methods that inform the user the
<a href="https://en.wikipedia.org/wiki/Bloom_filter#Probability_of_false_positives">likelihood of a false positive</a>, the number of times an element
has been added, and one which gives them the ability to clear the data set (which should also reset the count of elements added to 0).</p><p>Additionally, include in a block comment why iteration over the data set and removal of individual elements from the data set are impossible.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="assignment15.html" title="backward to &quot;Assignment 15: Arrays&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="assignment17.html" title="forward to &quot;Assignment 17: Optionals&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>