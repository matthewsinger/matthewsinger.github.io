<!doctype HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="codemirror.js"></script>
<script src="python.js"></script>
<script src="runmode.js"></script>
<script src="setup-page.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Assignment 19: Nonogram</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Commonwealth School CS2
<br/>
Introduction to Class-<wbr></wbr>based Program Design</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="General_Course_Information.html" class="tocviewlink" data-pltdoc="x">General Course Information</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a></td></tr><tr><td align="right"></td><td><a href="Installation___New_Project_Instructions.html" class="tocviewlink" data-pltdoc="x">Installation &amp; New Project Instructions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="assignment1.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 1:</span> Designing complex data</a></td></tr><tr><td align="right"></td><td><a href="assignment2.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 2:</span> Delegation</a></td></tr><tr><td align="right"></td><td><a href="assignment3.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 3:</span> Tree-<wbr></wbr>Shaped Data</a></td></tr><tr><td align="right"></td><td><a href="assignment4.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 4:</span> Accumulators</a></td></tr><tr><td align="right"></td><td><a href="assignment5.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 5:</span> Road Trip!</a></td></tr><tr><td align="right"></td><td><a href="assignment6.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 6:</span> Abstracting over Data Definitions</a></td></tr><tr><td align="right"></td><td><a href="assignment7.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 7:</span> Customizing Constructors</a></td></tr><tr><td align="right"></td><td><a href="assignment8.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 8:</span> Mastermind</a></td></tr><tr><td align="right"></td><td><a href="assignment9.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 9:</span> Abstraction</a></td></tr><tr><td align="right"></td><td><a href="assignment10.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 10:</span> Generics</a></td></tr><tr><td align="right"></td><td><a href="assignment11.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 11:</span> Course Registration</a></td></tr><tr><td align="right"></td><td><a href="assignment12.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 12:</span> Who&rsquo;s On Deque?</a></td></tr><tr><td align="right"></td><td><a href="assignment13.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 13:</span> Huffman Coding</a></td></tr><tr><td align="right"></td><td><a href="assignment14.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 14:</span> Traversal</a></td></tr><tr><td align="right"></td><td><a href="assignment15.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 15:</span> Arrays</a></td></tr><tr><td align="right"></td><td><a href="assignment16.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 16:</span> Bloom Filters</a></td></tr><tr><td align="right"></td><td><a href="assignment17.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 17:</span> Optionals</a></td></tr><tr><td align="right"></td><td><a href="assignment18.html" class="tocviewlink" data-pltdoc="x"><span class="AssignmentNum">Assignment 18:</span> Streams</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 19:</span> Nonogram</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="AssignmentNum">Assignment 19:</span> Nonogram</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._.Nonogram%29" class="tocviewlink" data-pltdoc="x">Nonogram</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Nonogram%29" class="tocsubseclink" data-pltdoc="x">Nonogram</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Visuals_and_.Player_.Interaction%29" class="tocsubseclink" data-pltdoc="x">Visuals and Player Interaction</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Ending_the_game%29" class="tocsubseclink" data-pltdoc="x">Ending the game</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Ambiguity%29" class="tocsubseclink" data-pltdoc="x">Ambiguity</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Testing_requirements%29" class="tocsubseclink" data-pltdoc="x">Testing requirements</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Other_requirements%29" class="tocsubseclink" data-pltdoc="x">Other requirements</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Hints_on_world_state%29" class="tocsubseclink" data-pltdoc="x">Hints on world state</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Design_hints%29" class="tocsubseclink" data-pltdoc="x">Design hints</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Drawing_hints%29" class="tocsubseclink" data-pltdoc="x">Drawing hints</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Game_extensions%29" class="tocsubseclink" data-pltdoc="x">Game extensions</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.8</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="assignment18.html" title="backward to &quot;Assignment 18: Streams&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Documentation.html" title="forward to &quot;Documentation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._)"></a><span class="AssignmentNum">Assignment 19:</span> Nonogram</h4><p><span style="font-weight: bold">Goals:</span>  Design a game with mutable world state.</p><p>You should submit one <span class="stt">.java</span> file containing the solution to this problem.</p><p><span style="font-weight: bold"><span style="color: red">Be sure to properly test your code and write purpose statements for your methods.</span></span>
A lack of tests and documentation will result in a lower grade! Remember that testing requires
you to make some examples of data in an examples class.</p><p><div class="SIntrapara">You will be using the Impworld library. To import it, include the following at the top of your file:
</div><div class="SIntrapara"><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">tester</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">javalib</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">impworld</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">java</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">awt</span><span class="ProfjDefault">.</span><span class="ProfjType">Color</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">import</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">javalib</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">worldimages</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">*</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr></table></blockquote></div></div></p><p>Read <a href="Documentation.html" data-pltdoc="x">the documentation</a> carefully for more information.</p><h5><a name="(part._.Nonogram)"></a>Nonogram</h5><p>You are going to design a Nonogram puzzle generator and game.</p><p>In Nonogram, the player is presented with a grid of tiles that are all initially
blank. Every tile is either active or inactive, but it is not revealed
which is which. The player must use the clues, given for each row and tile
of the grid, to determine which tiles must be active or inactive.</p><p>Once the player
thinks a tile is active, they can mark it as active. If the player is correct,
the tile will be visibly marked as active. If the player is incorrect,
the tile will be visibly marked as inactive, and it will be made clear
to the player they made a mistake.</p><p>The same holds for inactive tiles.</p><p>Clues are given in the form of lists of positive integers, which
indicate how many unbroken sequences of active tiles there are
as well as how many active tiles are in each of those sequences.
For example, if a column with 5 tiles has the clue (2, 2), then the
player can immediately deduce that the first two tiles must be active,
the third must be inactive, and the last two must be inactive.</p><p>For another example, if a column with 5 tiles has the clue (3), then
the player can deduce that the middle tile must be active, because
any unbroken sequence of 3 active tiles must include the middle tile.
Determining which of the other tiles are active and inactive will require
either guesswork, or, preferably, solving more of the puzzle until
the enough of the grid is filled out that it becomes evident.</p><p>To get a feel for the game, <a href="http://liouh.com/picross/">try it out</a>.
To mark a cell as active, click it, and to mark it as inactive, right-click it.</p><p><span style="font-weight: bold"><span style="color: red">Warning:</span></span> This game is addictive, and becoming a master Nonogram solver
is not the point of this assignment. Only the play the game as much as you need to
to get a handle on how it works, and then earn the privilege to play it some more
by implementing your own version!</p><h5><a name="(part._.Visuals_and_.Player_.Interaction)"></a>Visuals and Player Interaction</h5><p>The visuals of the game you will implement are similar to that of the one linked above.</p><p>Initially, the player will be presented with a blank grid of tiles
and clues for each tile and row.</p><p><img src="1_2.png" alt="" width="217" height="440"/></p><p>As the player marks tiles active and inactive (with left and right clicks, respectively),
the game will show those tiles as marked.</p><p><img src="2_2.png" alt="" width="219" height="443"/></p><p>If the player misclicks a tile, the game will immediately make this obvious.</p><p><img src="3_2.png" alt="" width="219" height="441"/></p><p><span style="font-weight: bold"><span style="color: red">Note:</span></span> In my implementation and in these screen shots, clues
go from black to grey once they are definitively solved. This is an optional
extension which will be discussed below, and you may not work on this (or other)
extensions until the core game is finished.</p><h5><a name="(part._.Ending_the_game)"></a>Ending the game</h5><p>The game ends once the state of every active tile is known (that is, the player
has marked every active tile as active or inactive, whether or not the player
was correct). Once this happens, the number of mistakes the player made should
be shown in the upper-left corner in red.</p><p><img src="4_2.png" alt="" width="219" height="442"/></p><p>If the player made no mistakes, you can present a congratulatory message in a
friendlier color, but that is an optional improvement. It is fine to just present
0 in red if you want.</p><h5><a name="(part._.Ambiguity)"></a>Ambiguity</h5><p>Randomly-generated Nonogram puzzles are guaranteed to have at least
one solution, but they are not guaranteed to have a unique solution.</p><p>For example, imagine a 2x2 grid where the upper left and bottom
right cells are active. The hints for this grid would also be the
hints generated by a 2x2 where the bottom left and upper right
cells are active.</p><p>For your game, you do not have to grapple with this ambiguity, and
the player may just get unlucky (ambiguous puzzles are not commonly
generated - for example, of the 16 possible 2x2 grids,
only 2 are ambiguous).</p><h5><a name="(part._.Testing_requirements)"></a>Testing requirements</h5><p>As per usual, you should always test your code. However, you do not have
to test the methods which produce images, but be sure to test all
other aspects of your program.</p><h5><a name="(part._.Other_requirements)"></a>Other requirements</h5><p>Your Nonogram game must be able to be launched with just two inputs, the height
(number of rows) and width (number of columns). If either of these numbers are
not positive, crash the program.</p><p>Every time the game launches, a random grid must be generated. Each tile
should be assigned active or inactive with a 50/50 chance (<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="ProfjKeyword">:</span><span class="ProfjKeyword">:</span><span class="ProfjIdentifier">nextBoolean</span><span class="RktMeta"></span></span></span>
will be helpful).</p><p>The size of the game in pixels should only be as large as is needed to display the
grid and hints (see the example screenshots above), and this means the size of the
game can potentially change each time you play it. Hints on how to accomplish this below.</p><h5><a name="(part._.Hints_on_world_state)"></a>Hints on world state</h5><p>There are a few crucial things this game needs to keep track of: the state
of every tile, which tiles the player has marked and what the player marked it as,
and the hints for each row and tile.</p><p>For the first two, positions need to be associated with a way to indicate state
(or, in the case of the latter, a possibly missing state). Use a data structure
which associates one type of data with another.</p><p>For the last, you do not want to have to re-compute the hints every time you draw
the world. Compute these hints in your constructor and store them as fields
in your class.</p><h5><a name="(part._.Design_hints)"></a>Design hints</h5><p>To launch the game and ensure it launches with the correct height and width,
add the following methods to your game and call <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">runNonogram</span><span class="RktMeta"></span></span></span> from your
examples class:</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Credit to Kai Tjia for the design of putting a method
like <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">runNonogram</span><span class="RktMeta"></span></span></span> in the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">World</span><span class="RktMeta"></span></span></span> class itself.</p></blockquote></blockquote></blockquote><div class="JavaHighlightBlock"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="ProfjComment">// run the game
</span><span class="ProfjKeyword">void</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">runNonogram</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">width</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">totalWidth</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">height</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">totalHeight</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">bigBang</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">width</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">height</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// the total width of the game in pixels
</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">totalWidth</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// TODO
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjError">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjComment">// the total height of the game in pixels
</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">totalHeight</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// TODO
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span></td></tr></table></blockquote></div><p>One of the methods you want to be able to test most carefully is the
hint-generation, but this becomes difficult if the generated grid
is upredictably random for each new game. Therefore, in addition to
a constructor which just takes the number of rows and columns, also
design a constructor which takes those two numbers as well as an instance
of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span>, and in your examples class, construct an instance of
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Random</span><span class="RktMeta"></span></span></span> with a consistent random seed to make an instance of your world
with a consistent and therefore testable grid.</p><p>The <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IntStream</span><span class="ProfjKeyword">:</span><span class="ProfjKeyword">:</span><span class="ProfjIdentifier">range</span><span class="RktMeta"></span></span></span> method can be very useful for doing something
for every row and/or column in your game. Look at the method and the
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IntStream</span><span class="RktMeta"></span></span></span> interface in the Java docs.</p><p>Generating hints for rows and columns requires the exact same kind of logic,
but looking at rows as opposed to columns or vice versa requires a bit of difference.
As such, write an abstract method which processes a list of active/inactive states
(however you choose to represent that), and pass off rows/columns to this method
as appropriate.</p><p>The <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Posn</span><span class="RktMeta"></span></span></span> class that comes with the big-bang library is very limited
in its functionality, so I recommend making a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MyPosn</span><span class="RktMeta"></span></span></span> class which
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">extend</span><span class="RktMeta"></span></span></span>s the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Posn</span><span class="RktMeta"></span></span></span> class, as being able to add methods
to posns can be very handy.</p><h5><a name="(part._.Drawing_hints)"></a>Drawing hints</h5><p>When considering the visual elements of the program, consider
the vertical hints, the horizontal hints, and the grid itself
to be three separate entities. I strongly recomemnd having a
different helper method to produce a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">WorldImage</span><span class="RktMeta"></span></span></span> for each
of these visual components, and then using the widths and heights
of the produced images to compute where each should be placed
on the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">WorldScene</span><span class="RktMeta"></span></span></span>.</p><p><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">BesideAlignImage</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">AboveAlignImage</span><span class="RktMeta"></span></span></span> are very helpful
for drawing hints for columns and rows, respectively. If you use
this method to draw hints, remember that rows and columns without any
active states and thus an empty list of hints still needs to take up
space for an empty hint (see some of the examples above).</p><h5><a name="(part._.Game_extensions)"></a>Game extensions</h5><p>Properly implementing any of the following extensions will give
an opportunity for extra credit, but the initial design of your program
<span style="font-weight: bold">may not</span> take these extensions explicitly into consideration,
as part of
the extra credit is for <span style="font-style: italic">refactoring</span> your program, which
is the process of tweaking code to add new features, reorganize it
for clarity, and/or squash bugs. Refactoring is a difficulty all
programmers experience regularly, and the difficulty of refactoring
is always inversely proportional to the level of effort put upfront
to make programs well-designed (as in using helpers, delegation,
abstraction, and other design principles to the best of your ability).</p><p>The extensions are listed in order of increasing difficulty.</p><p><span style="font-weight: bold">Extension one: Extra hints</span></p><p>Sometimes, players may want an extra hint. Pressing <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjString">"h"</span><span class="RktMeta"></span></span></span> on the keyboard
should reveal the state of a previously unmarked cell, and like the red
"X" in the images above, that cell should be marked with a red "H" (or
anothr color of your choice). The cell revealed should be chosen at random
from all to-be-revealed cells, unless there is only one unmarked active cell
left and at least one unmarked inactive cell, in which case an inactive cell
should be marked. The game should end if the last active cell is revealed
via hint, and all cells reveald via a hint should be added to
the count of mistakes shown to the player at the end.</p><p><span style="font-weight: bold">Extension two: Greying out solved hints</span></p><p>It is helpful to the player if they know which hints they&rsquo;ve already completed.
Once a hint is definitively completed, draw that hint in grey instead of black,
per the pictures above. A hint in a row is considered definitively solved if
all of the active cells for that hint are marked and every cell to the left of it
is marked, as well as the cell immediately to the right (if it exists), or vice versa.
The same is true for column hints and cells below/above it.</p><p><span style="font-weight: bold">Extension three: Dragging</span></p><p>It can be tedious to have to click every cell, and in the version of the game,
linked above, players can drag after clicking or right-clicking to mark
a streak of cells in a single row/column. It is clear to the player which cells
will be marked when they let go out of the mouse, and cells which have previously
been marked are unaffected by this action. Test out this feature in the linked version
of the game, and then implement it for your version.</p><p><span style="font-weight: bold">Extension four: Ambiguous puzzles</span></p><p>If a player enters a valid solution for an ambiguous puzzle that doesn&rsquo;t happen to match
the generated state, that can be a frustrating experience. Make your game flexible so that
it considers inputs from the player correct so long as it fits any solution with the given hints
and the state of the board revealed so far. The game should end
once the active cells of any valid solution are totally marked, and note what solutions
are potentially valid may change as the player marks certain cells as active or inactive.
Beware this extensions is <span style="font-weight: bold">extremely</span> difficult
and should only be attempted if you have an abundance of free time, such as during spring break
or over summer vacation.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="assignment18.html" title="backward to &quot;Assignment 18: Streams&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Documentation.html" title="forward to &quot;Documentation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>