<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Lecture 7: Refining Conditions + Minutiae</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="ps-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="extra-scripts.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="lecture6.html" title="backward to &quot;Lecture 6: Conditional Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;II Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture8.html" title="forward to &quot;Lecture 8: In Class Exercise: Animations&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3><a name="(part._lecture7)"></a>Lecture 7: Refining Conditions + Minutiae</h3><p><span style="font-weight: bold">Motivation:</span> We want to be able to ask more complex questions in our conditional code</p><p><span style="font-weight: bold">Topics to cover:</span> and/or/not, short circuiting, errors, symbols, converting between primitives, random</p><h4><a name="(part._g7444)"></a>Recap</h4><p>Any insights from the homework? What didn&rsquo;t people understand?</p><h4><a name="(part._g7445)"></a>Complex Questions</h4><p><div class="SIntrapara">Let&rsquo;s define our own <span class="RktSym">even?</span>, which should be able to process any number (the built-in one
can only process integers).
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">my-even? : Number -&gt; Boolean</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Is x even?</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">if</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">integer?</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">zero?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">remainder</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal">4.5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Does this code remind anyone of something from last class&rsquo;s homework?</p><p><div class="SIntrapara">Correct! <span class="RktSym">both-true?</span>. As it turns out, BSL already has its own built in: <span class="RktSym">and</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">my-even? : Number -&gt; Boolean</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Is x even?</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">and</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">integer?</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">zero?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">remainder</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal">4.5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Like <span class="RktSym">if</span>, <span class="RktSym">and</span> also has special evaluation rules. It stops at the first <span class="RktVal">#false</span>
it sees. Otherwise, <span class="RktPn">(</span><span class="RktSym">my-even?</span><span class="stt"> </span><span class="RktVal">4.5</span><span class="RktPn">)</span> would blow up when trying to call remainder on a non-integer.</p><p>If I run <span class="RktPn">(</span><span class="RktSym">and</span><span class="stt"> </span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">/</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span>, it never blows up. Is that a good thing, though? I could also
run <span class="RktPn">(</span><span class="RktSym">and</span><span class="stt"> </span><span class="RktVal">#f</span><span class="stt"> </span><span class="RktVal">"doggy"</span><span class="RktPn">)</span> and it doesn&rsquo;t blow up. What does that even mean, though? Nothing
coherent. The more complex our tools get, like <span class="RktSym">and</span>, the more they can hide what is potentially
bad code. Be cautious!</p><p>Like <span class="RktSym">+</span>, <span class="RktSym">and</span> can also take in arbitrarily many inputs.</p><h4><a name="(part._g7446)"></a>or</h4><p>Analgous to <span class="RktSym">and</span> is <span class="RktSym">or</span>. It returns <span class="RktVal">#t</span> when any of the expressions evaluate to
<span class="RktVal">#t</span>. Can anyone guess when <span class="RktSym">or</span> stops evaluating?</p><p>Yes, it stops evaluating at the first <span class="RktVal">#t</span>, because it knows the answer. This property of
<span class="RktSym">or</span> and <span class="RktSym">and</span> is called <span style="font-style: italic">short-circuiting</span>, and can be found in basically
every programming language.</p><h4><a name="(part._g7447)"></a>not</h4><p>The last key ingredient for dealing with booleans is <span class="RktSym">not</span>. It takes in a boolean and returns the opposite.</p><h4><a name="(part._g7448)"></a>Throwing errors</h4><p>Let&rsquo;s improve our <span class="RktSym">describe-food</span> function from last lecture:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">describe-food : String -&gt; String</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Describe food as either tasty or gross</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">string=?</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"tasty"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">string=?</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="hspace">&nbsp;</span><span class="RktVal">"mold"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"gross"</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"tasty"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktVal">"mold"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"gross"</span><span class="RktPn">)</span></td></tr></table></blockquote><p>We know what happens when we run <span class="RktSym">describe-food?</span> on something that isn&rsquo;t
<span class="RktVal">"apple"</span> or <span class="RktVal">"mold"</span>: it blows up. But the error isn&rsquo;t very informative.
"cond: all questions returned false" doesn&rsquo;t actually signal to the function user
what went wrong. Let&rsquo;s fix that with the <span class="RktSym">error</span> function.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">describe-food : String -&gt; String</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Describe food as either tasty or gross</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">string=?</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"tasty"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">string=?</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="hspace">&nbsp;</span><span class="RktVal">"mold"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"gross"</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">else</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">error</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span><span class="hspace">&nbsp;</span><span class="RktVal">"describe-food doesn't know about "</span><span class="hspace">&nbsp;</span><span class="RktSym">food</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"tasty"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktVal">"mold"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"gross"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">check-error</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">describe-food</span><span class="hspace">&nbsp;</span><span class="RktVal">"banana"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"describe-food doesn't know about banana"</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Unless it&rsquo;s guarded in a <span class="RktSym">check-error</span>, the <span class="RktSym">error</span> function
will halt all computation and cause the program to blow up. While you won&rsquo;t
use many custom error messages this year, they&rsquo;re good to know about.</p><h4><a name="(part._g7449)"></a>Symbols</h4><p>So, who can list the types of values we now know about? (numbers, strings, images, booleans)</p><p>As it turns out, there is one more kind of primitive: symbols. Symbols look kind of like strings,
except they start with one single quote, and don&rsquo;t have an ending one. Some examples include
<span class="RktVal">'</span><span class="RktVal">dog</span>, <span class="RktVal">'</span><span class="RktVal">cat</span>, and <span class="RktVal">'</span><span class="RktVal">cheese</span>.</p><p>What can we do with symbols? Almost nothing, and that&rsquo;s intentional. We can ask if something is a symbol
with <span class="RktSym">symbol?</span> and compare two or more symbols with <span class="RktSym">symbol=?</span>. (demo in interactions window)
That&rsquo;s it.</p><p>So what are they good for? Well, not too much, for now, but you can think of them
as a label. Whereas we can manipulate strings with <span class="RktSym">substring</span> and <span class="RktSym">string-append</span>,
symbols just exist to be distinct or not distinct from each other, kind of like bar codes at
grocery stores.</p><h4><a name="(part._g7450)"></a>Converting between primitive values</h4><p>Incidentally, we can also use them instead of strings when making images, such as
<span class="RktPn">(</span><span class="RktSym">circle</span><span class="stt"> </span><span class="RktVal">50</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">solid</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">red</span><span class="RktPn">)</span>, but this is mostly for convenience.</p><p>This implies, somewhat, that we can get from <span class="RktVal">'</span><span class="RktVal">red</span> to <span class="RktVal">"red"</span>. We can,
with built in functions like <span class="RktSym">symbol-&gt;string</span> and <span class="RktSym">string-&gt;symbol</span>. (demo in
interactions window)</p><p><span class="RktSym">number-&gt;string</span> and <span class="RktSym">boolean-&gt;string</span> also exist. (demo)</p><p>What about <span class="RktSym">string-&gt;number</span> and <span class="RktSym">string-&gt;boolean</span>? Well, the former exists,
but returns <span class="RktVal">#f</span> when given a non-number string. The latter doesn&rsquo;t exist at all!</p><h4><a name="(part._g7451)"></a>Random</h4><p>One other very interesting function is <span class="RktSym">random</span>. It randomly returns
a natural number less than the input. So is it really a function? No! If we plot
some input/output we get from random (do so on board), it doesn&rsquo;t pass the vertical line test.</p><p>Remember, a property of a proper function in math is that f(x) = f(x), but that&rsquo;s not true
for random.</p><p><div class="SIntrapara">Let&rsquo;s use <span class="RktSym">random</span> in a simple animation.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">DOT</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">circle</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">solid</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">red</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">empty-scene</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">place-random : Natural -&gt; Image</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Place a circle randomly on an empty scene</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">place-random</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">place-image</span><span class="hspace">&nbsp;</span><span class="RktSym">DOT</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">random</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">/</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">image-height</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>It blows up when we animate it! Why? We <span class="RktSym">random</span> returns a natural number less than
the input, but there is no natural number less than 0, and <span class="RktSym">animate</span>
starts with 0. So let&rsquo;s fix this.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">DOT</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">circle</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">solid</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">red</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">empty-scene</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span><span class="hspace">&nbsp;</span><span class="RktVal">400</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">place-random : Natural -&gt; Image</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Place a circle randomly on an empty scene</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">place-random</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">place-image</span><span class="hspace">&nbsp;</span><span class="RktSym">DOT</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">random</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">add1</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">/</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">image-height</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Why does it eek out from left to right, and then go off screen for bits at a time?
Because the number random can produce grows, so the odds of it being on screen shrink.</p><p>But how do we test functions that output random data? At the minimum, we can check
that it has the right type with <span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">image?</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">place-random</span><span class="stt"> </span><span class="RktVal">50</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span>.
But like <span class="RktSym">check-error</span> and <span class="RktSym">error</span>, there&rsquo;s actually a special test for
<span class="RktSym">random</span>. Can you guess what it&rsquo;s called?</p><p><span class="RktPn">(</span><span class="RktSym">check-random</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">place-random</span><span class="stt"> </span><span class="RktVal">50</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">place-image</span><span class="stt"> </span><span class="RktSym">DOT</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">random</span><span class="stt"> </span><span class="RktVal">51</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">image-height</span><span class="stt"> </span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">BG</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>So long as the expression on the right hand side of a <span class="RktSym">check-random</span> asks for the same
random numbers in the same order as the expression on the left hand side, <span class="RktSym">check-random</span>
will pass. How nice!</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="lecture6.html" title="backward to &quot;Lecture 6: Conditional Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;II Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture8.html" title="forward to &quot;Lecture 8: In Class Exercise: Animations&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>