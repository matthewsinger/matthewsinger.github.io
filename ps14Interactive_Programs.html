<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Interactive Programs</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="extra-scripts.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps13Nested_Data.html" title="backward to &quot;Nested Data&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;I Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps15Self-referential_Data.html" title="forward to &quot;Self-referential Data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3><a name="(part._ps14.Interactive._.Programs)"></a>Interactive Programs</h3><p><span style="font-weight: bold">Programming Language</span>  <a href="https://docs.racket-lang.org/htdp-langs/beginner.html?q=%2B">BSL</a></p><p><span style="font-weight: bold">Purpose</span> Design interactive programs.</p><p><span style="font-weight: bold">Setup</span> <span class="RktSym">posn</span> is a structure that is built into BSL, with the following structure definition:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="hspace">&nbsp;</span><span class="RktSym">posn</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">]</span><span class="RktPn">)</span></p></blockquote><p>You do not have to add this definition to your program.</p><p>The general signatures and purpose statements for the functions given to
<span class="RktSym">big-bang</span> handlers regarding human interaction (<span class="RktSym">on-key</span>
and <span class="RktSym">on-mouse</span>) are:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">on-key-function : WorldState KeyEvent -&gt; WorldState</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Advance the world state after the given key has been pressed</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">on-mouse-function : WorldState Nat Nat MouseEvent -&gt; WorldState</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Advance the world state after the given mouse event has happened at the</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">given x and y coordinates</span></td></tr></table></blockquote><p>Remember <span style="font-weight: bold">not</span> to use WorldState in your signatures and instead the data definition
(whether user defined or primitive) specific to your program, and to specify the purpose
statements to your program.</p><p><span style="font-weight: bold">Exercises</span></p><blockquote><p><span class="exercise"><span style="font-weight: bold">Exercise 1 </span></span>Design a very basic one-line text editor program that shows a cursor where
 the person&rsquo;s next character will appear (your cursor does not have to blink as it does
 in DrRacket, but it can if you want it to). After a character has been entered, the cursor
 should appear after that character.</p><p><div class="SIntrapara">Users should be able to:
 </div><div class="SIntrapara"><ul><li><p>Type letters, numbers, spaces, and symbols, and have them appear on screen</p></li><li><p>Use the left and right arrow keys to move the cursor (if there
is sufficient text to move it around)</p></li><li><p>Use backspace to clear the character preceding
the cursor (if it exists)</p></li><li><p>Use tab to instantly move the cursor to the end of the text. If it is already
at the end of the text, it should move to the beginning.</p></li><li><p>Hit enter/return to clear all the text present</p></li><li><p>Press any other key (such as F1, shift, etc.) without any effect on the program</p></li></ul></div></p><p>It is fine if what the user types is so long that it goes off the screen, but an optional
 improvement to the program would ignore characters that would cause this to happen.</p><p><span style="font-weight: bold">Hint:</span> all special keys such as F1 or shift have a string length longer than 1.
The exceptions to this are enter/return, backspace, and tab, which are the
key events <span class="RktVal">"\r"</span>, <span class="RktVal">"\b"</span>, and <span class="RktVal">"\t"</span>, respectively.</p><p><span style="font-weight: bold">Hint:</span> a good visual representation of a cursor is a rectangle that is only
1 pixel wide.</p><p><span style="font-weight: bold">Hint:</span> to keep your code clean, the function you give to <span class="RktSym">on-key</span> should
use a <span class="RktSym">cond</span> to identify what kind of key has been pressed. Then, for each
case, you should have a helper function to handle that kind of behavior (unless
the key is ignored, then you should return the world state as is).</p></blockquote><p><br/>
<br/> <br/>
<br/></p><blockquote><p><div class="SIntrapara"><span class="exercise"><span style="font-weight: bold">Exercise 2 </span></span>Consider the following data definition:
      </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A </span><a name="(tech._shape)"></a><span style="font-style: italic">Shape</span><span class="RktCmt"> is one of:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- (make-circ Nat Posn)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="hspace">&nbsp;</span><span class="RktSym">circ</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">radius</span><span class="hspace">&nbsp;</span><span class="RktSym">center</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">and represents a circle</span><span class="RktCmt">'</span><span class="RktCmt">s radius and center position</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- (make-squar Nat Posn)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="hspace">&nbsp;</span><span class="RktSym">square</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">side-length</span><span class="hspace">&nbsp;</span><span class="RktSym">center</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> and represents a square</span><span class="RktCmt">'</span><span class="RktCmt">s side length and center</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A Posn is a (make-posn Nat Nat)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">and represents a coordinate in pixels</span></td></tr></table></blockquote></div></p><p>Your task is to build a program which is given a <a href="#%28tech._shape%29" class="techoutside" data-pltdoc="x"><span class="techinside">Shape</span></a> as input
and then displays it on a screen. When a person clicks inside the shape,
the program should hide the shape. When the person clicks inside the shape again,
the shape should be revealed. Any mouse event besides a click inside the
shape should be ignored.</p><p>Note that a point is inside a circle if the distance between the point
and the circle&rsquo;s center is less than the circle&rsquo;s radius. A
point is inside of a square if its x-coordinate lies between the square&rsquo;s
left and right edges and if its y-coordinate lies between the square&rsquo;s
bottom and top edges.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The distance between two points is defined as the square root
   of the sum of the squares of the differences between their x and y points.
This is the standard distance formula.</p></blockquote></blockquote></blockquote></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps13Nested_Data.html" title="backward to &quot;Nested Data&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;I Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps15Self-referential_Data.html" title="forward to &quot;Self-referential Data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>