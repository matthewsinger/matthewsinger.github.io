<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Union Data</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="extra-styles.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="extra-scripts.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps8CS1_Film_Festival.html" title="backward to &quot;CS1 Film Festival&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;I Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps10Intervals.html" title="forward to &quot;Intervals&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3><a name="(part._ps9.Union._.Data)"></a>Union Data</h3><p><span style="font-weight: bold">Programming Language</span>  <a href="https://docs.racket-lang.org/htdp-langs/beginner.html?q=%2B">BSL</a></p><p><span style="font-weight: bold">Purpose</span> Begin working with union data and the design recipe for data.</p><p><span style="font-weight: bold">Setup</span> Much like following the design recipe for functions, we must follow the
design recipe for data when we encounter non-primitive data definitions by writing
a data definition, interpretation, examples, and template.</p><p><span style="font-weight: bold">Exercises</span></p><blockquote><p><div class="SIntrapara"><span class="exercise"><span style="font-weight: bold">Exercise 1 </span></span>Consider the following data definition:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">An </span><a name="(tech._doorstate)"></a><span style="font-style: italic">DoorState</span><span class="RktCmt"> is one of:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal">"open"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal">"closed"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal">"locked"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">and represents a state a door is in</span></td></tr></table></blockquote></div></p><ol><li><p>Define examples of a <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a>.</p></li><li><p>Design the template for functions that take in a <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a>.</p></li><li><p>Design the function <span class="RktSym">key</span>, which takes a <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a>
and produces the next <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a> after a key is turned.
An open door cannot be locked.</p></li><li><p>Design the function <span class="RktSym">push</span>, which takes a <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a>
and produces the next <a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a> after someone pushes it open
if it&rsquo;s closed or closed if it&rsquo;s open. Locked doors cannot be changed.</p></li><li><p><div class="SIntrapara">If we pretend <span class="RktSym">error</span> and <span class="RktSym">random</span> do not exist, how many
possible functions <span class="RktSym">f</span> can exist with the signature
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">f : </span><a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a><span class="RktCmt"> -&gt; </span><a href="#%28tech._doorstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">DoorState</span></a></p></blockquote></div></p><p>Justify your answer in a comment.</p><p><span style="font-weight: bold">Hint:</span> there is actually a surprisingly large number. Don&rsquo;t try to figure them all out by hand.
 First, think of how many functions that take in and produce a Boolean exist, and see what insights
 that gives you.</p></li></ol></blockquote><blockquote><p><span class="exercise"><span style="font-weight: bold">Exercise 2 </span></span>Consider how the four steps of the design recipe for data (definition, interpretation, examples,
and template) coincide with the four steps of the design recipe for functions (signature, purpose statement,
tests, code). How do these steps corelate? Leave your answer in a comment.</p></blockquote><blockquote><p><span class="exercise"><span style="font-weight: bold">Exercise 3 </span></span>Consider how the following data definition:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">An </span><a name="(tech._trainstatu)"></a><span style="font-style: italic">TrainStatus</span><span class="RktCmt"> is one of:</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal">'</span><span class="RktVal">arr</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal">'</span><span class="RktVal">brd</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- String</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- </span><span class="RktVal"><span class="nobreak">-1</span></span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- PositiveInt</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">and represents a train</span><span class="RktCmt">'</span><span class="RktCmt">s status as either arriving, boarding, the reason</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">for its delay, cancelled (</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="RktCmt">), or the number of minutes away</span></td></tr></table></blockquote><p>After following the remaining steps of the design recipe for data for <a href="#%28tech._trainstatu%29" class="techoutside" data-pltdoc="x"><span class="techinside">TrainStatus</span></a>es,
design a function which, given a train number, destination, and <a href="#%28tech._trainstatu%29" class="techoutside" data-pltdoc="x"><span class="techinside">TrainStatus</span></a>,
outputs an announcement for the train. Some example announcements include:</p><ul><li><p><span class="RktVal">"Train 123 to Newark is arriving."</span></p></li><li><p><span class="RktVal">"Train 82 to Philadelphia is boarding."</span></p></li><li><p><span class="RktVal">"Train 76 to Chicago is delayed due to technical difficulties."</span></p></li><li><p><span class="RktVal">"Train 9348 to Boston is cancelled."</span></p></li><li><p><span class="RktVal">"Train 9 to D.C. is 10 minutes away."</span></p></li></ul><p><span style="font-weight: bold">Hint:</span> if you find yourself running into type errors when comparing primitives,
you should take advantage of <span style="font-weight: bold">short circuiting</span> when building your template
 to avoid branches of code that would cause errors. Also, if you find that the right-hand side of your <span class="RktSym">cond</span>
branches repeat a lot of the same work, you can possibly move some of that work out of
the <span class="RktSym">cond</span> so your code doesn&rsquo;t repeat itself.</p></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps8CS1_Film_Festival.html" title="backward to &quot;CS1 Film Festival&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;I Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps10Intervals.html" title="forward to &quot;Intervals&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>